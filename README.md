# AI Action (Godot 4.x Prototype)

**"AI が操作するマリオ風アクションゲーム"** のプロトタイプです。
プレイヤーはキャラクターを選択し、プロンプト（指示）を与えるだけで、あとは AI が自律的にステージを攻略します。

## 📅 現在の進捗状況 (2026-01-17)

### ✅ 実装完了機能

1. **キャラクター選択システム**

   - **Type O (OpenAI motif)**: 論理的・効率重視。
   - **Type G (Gemini motif)**: 創造的・マルチモーダル的。
   - **Type C (Claude motif)**: 安全性・慎重さ重視。
   - 各キャラに性格（System Prompt）とテーマカラーが設定済み。

2. **ゲームモード & 収益化モック**

   - **Standard Mode (無料)**: 通常モデルを使用。
   - **Pro Mode (課金)**: 高性能モデルを使用し、難所を突破しやすくする（モック実装）。
   - ゲームオーバー時に「課金してリトライ」を促すダイアログを実装。

3. **横スクロールアクション (Side-Scroller)**

   - **物理挙動**: 重力、ジャンプ、移動の基本アクション。
   - **プロンプト操作**: ゲーム開始時にユーザーが指示（例: "穴を避けて進め"）を入力。
   - **AI 制御**: `LLMService` が指示と周囲の状況（穴、敵、壁）を解釈し、コマンド (`JUMP`, `RIGHT` 等) を発行。

4. **レベル生成 (Level Generator)**
   - スタート地点からゴールまで、以下の要素をランダムに配置：
     - **平地**: 安全地帯。
     - **Gap (穴)**: ジャンプが必要。
     - **Enemy (赤ブロック)**: 回避が必要。
     - **Goal (金エリア)**: 到達目標。

### 📁 プロジェクト構成

- `scenes/main_menu.tscn`: キャラ選択・モード選択画面。
- `scenes/game.tscn`: メインゲーム画面（プロンプト入力 -> アクション）。
- `scripts/services/llm_service.gd`: AI 通信マネージャー（現在はモックレスポンス）。
- `scripts/controllers/player_controller.gd`: キャラクター物理制御。
- `scripts/utils/level_generator.gd`: ステージ自動生成。

## 🚀 実行方法

1. **Godot Engine 4.x** を起動。
2. `project.godot` をインポートして開く。
3. エディタ右上の **再生ボタン (F5)** をクリック。
4. キャラクターを選び、モードを選択するとゲーム開始。

## 🔜 次のステップ

- [ ] **実 API 連携**: OpenAI / Gemini / Anthropic API キーを使って実際にリクエストを飛ばす。
- [ ] **視覚強化**: アセット（スプライト、タイルセット）の導入。
- [ ] **AI 精度の向上**: 状況（Context）の取得ロジックを RayCast 等でより詳細にする。

## 🔗 リポジトリ

https://github.com/Naoki-kubo64/AI-Action
